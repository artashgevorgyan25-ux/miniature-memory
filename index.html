<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>PUMPS AI — Pump to Infinity</title>
<script src="https://cdn.jsdelivr.net/npm/phaser@3.55.2/dist/phaser.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body style="margin:0; background:black;">

<script>
let player;
let coins;
let score = 0;
let scoreText;

const config = {
    type: Phaser.AUTO,
    width: 360,
    height: 640,
    backgroundColor: "#000000",
    physics: {
        default: "arcade",
        arcade: {
            debug: false
        }
    },
    scene: {
        preload,
        create,
        update
    }
};

new Phaser.Game(config);

// === ЗАГРУЗКА ===
function preload() {
    this.load.image(
        "player",
        "https://i.imgur.com/8QfQZ4M.png"
    );

    this.load.image(
        "coin",
        "https://upload.wikimedia.org/wikipedia/commons/8/8a/Gold_coin_icon.png"
    );
}

// === СОЗДАНИЕ ===
function create() {
    // Игрок (Pumps AI)
    player = this.physics.add.image(180, 520, "player");
    player.setScale(0.2);
    player.setCollideWorldBounds(true);

    // Монетки
    coins = this.physics.add.group({
        key: "coin",
        repeat: 5,
        setXY: { x: 50, y: 50, stepX: 50 }
    });

    coins.children.iterate(function (coin) {
        coin.setScale(0.15);
        coin.setVelocityY(Phaser.Math.Between(80, 140));
    });

    // Счёт
    scoreText = this.add.text(10, 10, "USDT: 0", {
        fontSize: "18px",
        fill: "#00ff88"
    });

    // Столкновение
    this.physics.add.overlap(player, coins, collectCoin, null, this);
}

// === ОБНОВЛЕНИЕ ===
function update() {
    if (this.input.activePointer.isDown) {
        player.x = this.input.activePointer.x;
    }

    coins.children.iterate(function (coin) {
        if (coin.y > 700) {
            coin.y = -20;
            coin.x = Phaser.Math.Between(20, 340);
        }
    });
}

// === СБОР ===
function collectCoin(player, coin) {
    coin.y = -20;
    coin.x = Phaser.Math.Between(20, 340);
    score += 1;
    scoreText.setText("USDT: " + score);
}
</script>

</body>
</html>
